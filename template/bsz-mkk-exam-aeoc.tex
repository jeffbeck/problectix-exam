\renewcommand{\mytemplate}{bsz-mkk-exam}

\newcounter{ModeFinal}

% BT counters
% total time counters
\newcounter{TimeTotal}
\newcounter{TimeTotalOK}% Minuten Gesamt

\newcounter{TimeTotalET}
\newcounter{TimeTotalETOK}% Minuten Elektrotechnik

\newcounter{TimeTotalKT}
\newcounter{TimeTotalKTOK}% Minuten Kältetechnik

\newcounter{TimeTotalPF}
\newcounter{TimeTotalPFOK}% Minuten Pflichtaufgaben

\newcounter{TimeTotalWA}
\newcounter{TimeTotalWAOK}% Minuten Wahlaufgaben

\newcounter{TimeWAError}
\newcounter{TimeWAErrorOK}
\newcounter{TimeWAOK}
\setcounter{TimeWAOK}{10}% Minuten einer Wahlaufgabe

% other counters
\newcounter{NumberTotalWA}
\newcounter{NumberTotalWAOK}% Minuten Wahlaufgaben


% TopicCounter
% TopicTOPICNAME
% HX
\newcounter{TopicHX}
\newcounter{TopicHXMax}
\newcounter{TopicHXMin}



% setzen der Zähler mit ... \BTone oder \BTtwo
\newcommand{\ExamWhich}{--- none ---}


% Setze Zähler für BT1
\newcommand{\BTone}[1]{
\ifthenelse{\equal{#1}{final}}{\setcounter{ModeFinal}{1}}{} 
\renewcommand{\ExamWhich}{\textbf{BT\,1}}
% counters
\setcounter{TimeTotalOK}{130}% incl. aller Wahlaufgaben
\setcounter{TimeTotalETOK}{0}
\setcounter{TimeTotalKTOK}{130}
\setcounter{TimeTotalWAOK}{30}
\setcounter{TimeTotalPFOK}{100}
\setcounter{NumberTotalWAOK}{3}
\setcounter{TimeWAErrorOK}{0}
% Topic counters
\newcounter{TopicHXMax}{0}
\newcounter{TopicHXMin}{0}
}


% Setze Zähler für BT2
\newcommand{\BTtwo}[1]{
\ifthenelse{\equal{#1}{final}}{\setcounter{ModeFinal}{1}}{} 
\renewcommand{\ExamWhich}{\textbf{BT\,2}}
% counters
\setcounter{TimeTotalOK}{130}
\setcounter{TimeTotalETOK}{60}
\setcounter{TimeTotalKTOK}{40}
\setcounter{TimeTotalWAOK}{30}
\setcounter{TimeTotalPFOK}{100}
\setcounter{NumberTotalWAOK}{3}
\setcounter{TimeWAErrorOK}{0}
% Topic counters
\newcounter{TopicHXMax}{1}
\newcounter{TopicHXMin}{1}
}





% zusatzbefehl in aufgabenumgebung
\newcounter{ExamInfo}
\setcounter{ExamInfo}{0}
\newcommand{\examinfo}[4]{
% step a counter to check if this command is issued in every aufgabe
\stepcounter{ExamInfo}
% step other counters 
%    time counter in min
\addtocounter{TimeTotal}{#1}
% KT or ET
\ifthenelse{\equal{#2}{KT}}{\addtocounter{TimeTotalKT}{#1}}{} 
\ifthenelse{\equal{#2}{ET}}{\addtocounter{TimeTotalET}{#1}}{} 
%    WA or PF
\ifthenelse{\equal{#3}{WA}}{\addtocounter{TimeTotalWA}{#1}}{} 
% Minuten Wahlaufgaben OK 
\ifthenelse{\equal{#3}{WA}}{%
    \ifthenelse{\value{TimeWAOK}=#1}{}{\stepcounter{TimeWAError}}
}{} 
\ifthenelse{\equal{#3}{PF}}{\addtocounter{TimeTotalPF}{#1}}{} 
%    Topic counter
\ifthenelse{\equal{#4}{HX}}{\stepcounter{TopicHX}}{} 
}
