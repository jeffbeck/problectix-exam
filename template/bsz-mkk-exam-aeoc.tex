\renewcommand{\mytemplate}{bsz-mkk-exam}

\newcounter{ModeFinal}

% BT counters
% total time counters
\newcounter{TimeTotal}
\newcounter{TimeTotalOK}% Minuten Gesamt

\newcounter{TimeTotalET}
\newcounter{TimeTotalETOK}% Minuten Elektrotechnik

\newcounter{TimeTotalKT}
\newcounter{TimeTotalKTOK}% Minuten Kältetechnik

\newcounter{TimeTotalPF}
\newcounter{TimeTotalPFOK}% Minuten Pflichtaufgaben

\newcounter{TimeTotalWA}
\newcounter{TimeTotalWAOK}% Minuten Wahlaufgaben

\newcounter{TimeWAError}
\newcounter{TimeWAErrorOK}
\newcounter{TimeWAOK}
\setcounter{TimeWAOK}{10}% Minuten einer Wahlaufgabe

% other counters
\newcounter{NumberTotalWA}
\newcounter{NumberTotalWAOK}% Minuten Wahlaufgaben


% TopicTimeCounter
% TopicTimeTOPICNAME
% HX
\newcounter{TopicTimeHX}
\newcounter{TopicTimeHXMin}
% LOGPH
\newcounter{TopicTimeLOGPH}
\newcounter{TopicTimeLOGPHMin}
% RI
\newcounter{TopicTimeRI}
\newcounter{TopicTimeRIMin}
% MOP
\newcounter{TopicTimeMOP}
\newcounter{TopicTimeMOPMin}
% KTFUNKTION
\newcounter{TopicTimeKTFUNKTION}
\newcounter{TopicTimeKTFUNKTIONMin}

% SCHALTUNG
\newcounter{TopicTimeSCHALTUNG}
\newcounter{TopicTimeSCHALTUNGMin}
% SCHALTPLAN
\newcounter{TopicTimeSCHALTPLAN}
\newcounter{TopicTimeSCHALTPLANMin}
% MOTOR
\newcounter{TopicTimeMOTOR}
\newcounter{TopicTimeMOTORMin}
% DREHSTROM
\newcounter{TopicTimeDREHSTROM}
\newcounter{TopicTimeDREHSTROMMin}
% STROMSCHUTZ
\newcounter{TopicTimeSTROMSCHUTZ}
\newcounter{TopicTimeSTROMSCHUTZMin}
% WU
\newcounter{TopicTimeWU}
\newcounter{TopicTimeWUMin}
% VERDICHTER
\newcounter{TopicTimeVERDICHTER}
\newcounter{TopicTimeVERDICHTERMin}
% FEUCHTELUFT
\newcounter{TopicTimeFEUCHTELUFT}
\newcounter{TopicTimeFEUCHTELUFTMin}
% COP
\newcounter{TopicTimeCOP}
\newcounter{TopicTimeCOPMin}
% KUEHLTURM
\newcounter{TopicTimeKUEHLTURM}
\newcounter{TopicTimeKUEHLTURMMin}
% ROHRLEITUNG
\newcounter{TopicTimeROHRLEITUNG}
\newcounter{TopicTimeROHRLEITUNGMin}
% KREISLAUF
\newcounter{TopicTimeKREISLAUF}
\newcounter{TopicTimeKREISLAUFMin}
% DRUCKSCHALTER
\newcounter{TopicTimeDRUCKSCHALTER}
\newcounter{TopicTimeDRUCKSCHALTERMin}
% REFRIGERANT
\newcounter{TopicTimeREFRIGERANT}
\newcounter{TopicTimeREFRIGERANTMin}
% GESLAENGE
\newcounter{TopicTimeGESLAENGE}
\newcounter{TopicTimeGESLAENGEMin}
% ISOMETRIE
\newcounter{TopicTimeISOMETRIE}
\newcounter{TopicTimeISOMETRIEMin}
% WAERME
\newcounter{TopicTimeWAERME}
\newcounter{TopicTimeWAERMEMin}
% ETBASIS
\newcounter{TopicTimeETBASIS}
\newcounter{TopicTimeETBASISMin}
% ETSYMBOLE
\newcounter{TopicTimeETSYMBOLE}
\newcounter{TopicTimeETSYMBOLEMin}
% ETKOSTEN
\newcounter{TopicTimeETKOSTEN}
\newcounter{TopicTimeETKOSTENMin}



% setzen der Zähler mit ... \BTone oder \BTtwo
\newcommand{\ExamWhich}{--- none ---}


% Setze Zähler für BT1
\newcommand{\BTone}[1]{
\ifthenelse{\equal{#1}{final}}{\setcounter{ModeFinal}{1}}{} 
\renewcommand{\ExamWhich}{\textbf{BT\,1}}
% counters
\setcounter{TimeTotalOK}{130}% incl. aller Wahlaufgaben
\setcounter{TimeTotalETOK}{0}
\setcounter{TimeTotalKTOK}{130}
\setcounter{TimeTotalWAOK}{30}
\setcounter{TimeTotalPFOK}{100}
\setcounter{NumberTotalWAOK}{3}
\setcounter{TimeWAErrorOK}{0}
% TopicTime counters
% KT
\setcounter{TopicTimeHXMin}{20}
\setcounter{TopicTimeLOGPHMin}{20}
\setcounter{TopicTimeRIMin}{20}
\setcounter{TopicTimeMOPMin}{20}
\setcounter{TopicTimeKTFUNKTIONMin}{20}
\setcounter{TopicTimeWUMin}{20}
\setcounter{TopicTimeVERDICHTERMin}{20}
\setcounter{TopicTimeFEUCHTELUFTMin}{20}
\setcounter{TopicTimeCOPMin}{20}
\setcounter{TopicTimeKUEHLTURMMin}{20}
\setcounter{TopicTimeROHRLEITUNGMin}{20}
% ET
\setcounter{TopicTimeSCHALTUNGMin}{20}
\setcounter{TopicTimeSCHALTPLANMin}{20}
\setcounter{TopicTimeMOTORMin}{20}
\setcounter{TopicTimeDREHSTROMMin}{20}
\setcounter{TopicTimeSTROMSCHUTZMin}{20}
% ZP KT
\setcounter{TopicTimeKREISLAUFMin}{20}
\setcounter{TopicTimeDRUCKSCHALTERMin}{20}
\setcounter{TopicTimeREFRIGERANTMin}{20}
\setcounter{TopicTimeGESLAENGEMin}{20}
\setcounter{TopicTimeISOMETRIEMin}{20}
\setcounter{TopicTimeWAERMEMin}{20}
% ZP ET
\setcounter{TopicTimeETBASISMin}{20}
\setcounter{TopicTimeETSYMBOLEMin}{20}
\setcounter{TopicTimeETKOSTENMin}{20}
}


% Setze Zähler für BT2
\newcommand{\BTtwo}[1]{
\ifthenelse{\equal{#1}{final}}{\setcounter{ModeFinal}{1}}{} 
\renewcommand{\ExamWhich}{\textbf{BT\,2}}
% counters
\setcounter{TimeTotalOK}{130}
\setcounter{TimeTotalETOK}{60}
\setcounter{TimeTotalKTOK}{40}
\setcounter{TimeTotalWAOK}{30}
\setcounter{TimeTotalPFOK}{100}
\setcounter{NumberTotalWAOK}{3}
\setcounter{TimeWAErrorOK}{0}
% TopicTime counters
% KT
\setcounter{TopicTimeHXMin}{20}
\setcounter{TopicTimeLOGPHMin}{20}
\setcounter{TopicTimeRIMin}{20}
\setcounter{TopicTimeMOPMin}{20}
\setcounter{TopicTimeKTFUNKTIONMin}{20}
\setcounter{TopicTimeWUMin}{20}
\setcounter{TopicTimeVERDICHTERMin}{20}
\setcounter{TopicTimeFEUCHTELUFTMin}{20}
\setcounter{TopicTimeCOPMin}{20}
\setcounter{TopicTimeKUEHLTURMMin}{20}
\setcounter{TopicTimeROHRLEITUNGMin}{20}
% ET
\setcounter{TopicTimeSCHALTUNGMin}{20}
\setcounter{TopicTimeSCHALTPLANMin}{20}
\setcounter{TopicTimeMOTORMin}{20}
\setcounter{TopicTimeDREHSTROMMin}{20}
\setcounter{TopicTimeSTROMSCHUTZMin}{20}
% ZP KT
\setcounter{TopicTimeKREISLAUFMin}{20}
\setcounter{TopicTimeDRUCKSCHALTERMin}{20}
\setcounter{TopicTimeREFRIGERANTMin}{20}
\setcounter{TopicTimeGESLAENGEMin}{20}
\setcounter{TopicTimeISOMETRIEMin}{20}
\setcounter{TopicTimeWAERMEMin}{20}
% ZP ET
\setcounter{TopicTimeETBASISMin}{20}
\setcounter{TopicTimeETSYMBOLEMin}{20}
\setcounter{TopicTimeETKOSTENMin}{20}
}





% zusatzbefehl in aufgabenumgebung
\newcounter{ExamInfo}
\setcounter{ExamInfo}{0}
\newcommand{\examinfo}[4]{
% step a counter to check if this command is issued in every aufgabe
\stepcounter{ExamInfo}
% step other counters 
%    time counter in min
\addtocounter{TimeTotal}{#1}
% KT or ET
\ifthenelse{\equal{#2}{KT}}{\addtocounter{TimeTotalKT}{#1}}{} 
\ifthenelse{\equal{#2}{ET}}{\addtocounter{TimeTotalET}{#1}}{} 
%    WA or PF
\ifthenelse{\equal{#3}{WA}}{\addtocounter{TimeTotalWA}{#1}}{} 
% Minuten Wahlaufgaben OK 
\ifthenelse{\equal{#3}{WA}}{%
    \ifthenelse{\value{TimeWAOK}=#1}{}{\stepcounter{TimeWAError}}
}{} 
\ifthenelse{\equal{#3}{PF}}{\addtocounter{TimeTotalPF}{#1}}{} 
%    TopicTime counter
\ifthenelse{\equal{#4}{HX}}{\stepcounter{TopicTimeHX}}{} 
}
